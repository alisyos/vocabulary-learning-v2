
> vocabulary-learning-app@0.1.0 dev
> next dev

 ⚠ Warning: Found multiple lockfiles. Selecting /mnt/d/test/package-lock.json.
   Consider removing the lockfiles at:
   * /mnt/d/test/vocabulary_learning2/vocabulary-learning-app/package-lock.json

   ▲ Next.js 15.4.1
   - Local:        http://localhost:3000
   - Network:      http://172.27.165.220:3000
   - Environments: .env.local

 ✓ Starting...
 ✓ Ready in 21.4s
 ○ Compiling /api/prompts ...
 ✓ Compiled /api/prompts in 1436ms (284 modules)
🚀 강제로 새로운 프롬프트 구조를 사용합니다.
📚 로드된 프롬프트 수: 39개
🔍 첫 번째 프롬프트 확인: 전체 시스템 프롬프트
 GET /api/prompts 200 in 2437ms
🚀 강제로 새로운 프롬프트 구조를 사용합니다.
📚 로드된 프롬프트 수: 39개
🔍 첫 번째 프롬프트 확인: 전체 시스템 프롬프트
 GET /api/prompts 200 in 89ms
🚀 강제로 새로운 프롬프트 구조를 사용합니다.
📚 로드된 프롬프트 수: 39개
🔍 첫 번째 프롬프트 확인: 전체 시스템 프롬프트
 GET /api/prompts 200 in 124ms
🚀 강제로 새로운 프롬프트 구조를 사용합니다.
📚 로드된 프롬프트 수: 39개
🔍 첫 번째 프롬프트 확인: 전체 시스템 프롬프트
 GET /api/prompts 200 in 75ms
 ○ Compiling / ...
 ✓ Compiled / in 6s (659 modules)
 GET / 200 in 3105ms
 ✓ Compiled /api/auth/session in 485ms (647 modules)
 GET /api/auth/session 200 in 772ms
 ○ Compiling /api/get-curriculum-structure ...
 ✓ Compiled /prompts in 1728ms (751 modules)
Supabase에서 교육과정 구조 데이터를 가져오는 중...
 GET /prompts 200 in 2130ms
Supabase에서 351개의 교육과정 데이터를 가져왔습니다.
 GET /api/get-curriculum-structure 200 in 3073ms
Supabase에서 교육과정 구조 데이터를 가져오는 중...
Supabase에서 351개의 교육과정 데이터를 가져왔습니다.
 GET /api/get-curriculum-structure 200 in 230ms
🚀 강제로 새로운 프롬프트 구조를 사용합니다.
📚 로드된 프롬프트 수: 39개
🔍 첫 번째 프롬프트 확인: 전체 시스템 프롬프트
 GET /api/prompts 200 in 157ms
 GET /api/auth/session 200 in 237ms
 ○ Compiling /api/prompts/initialize ...
 ✓ Compiled /api/prompts/initialize in 1017ms (747 modules)
🚀 프롬프트 초기화 시작...
📚 39개의 기본 프롬프트를 발견했습니다.
🔍 생성된 promptId들:
  - passage-system-base (전체 시스템 프롬프트)
  - passage-length-1-2-10 (1-2문장으로 구성한 10개 단락)
  - passage-length-1-2-12 (1-2문장으로 구성한 12개 단락)
  - passage-length-10-5 (10문장 이하로 구성한 5개 단락)
  - passage-length-4-5-5-6 (4-5문장으로 구성한 5-6개 단락)
  - passage-length-5-6-6 (5-6문장으로 구성한 6개 단락)
  - passage-type-essay (논설문)
  - passage-type-inquiry (탐구문)
  - passage-type-case (사례지문)
  - passage-type-interview (인터뷰형지문)
💾 프롬프트 데이터를 Supabase에 삽입 중...
배치 1 삽입 실패: {
  code: '23514',
  details: 'Failing row contains (170bd933-58c3-4e02-9f0b-3f4e8fc3a2f5, paragraph-system-base, paragraph, paragraphSystem, 전체 시스템 프롬프트, system_base, 문단별 독해 문제를 생성합니다. 각 문단의 내용..., 문단 문제 생성의 기본 시스템 프롬프트, t, t, 1, 2025-07-28 04:20:26.776487+00, 2025-07-28 04:20:26.776487+00, system, system).',
  hint: null,
  message: 'new row for relation "system_prompts_v2" violates check constraint "system_prompts_v2_category_check"'
}
프롬프트 초기화 실패: {
  code: '23514',
  details: 'Failing row contains (170bd933-58c3-4e02-9f0b-3f4e8fc3a2f5, paragraph-system-base, paragraph, paragraphSystem, 전체 시스템 프롬프트, system_base, 문단별 독해 문제를 생성합니다. 각 문단의 내용..., 문단 문제 생성의 기본 시스템 프롬프트, t, t, 1, 2025-07-28 04:20:26.776487+00, 2025-07-28 04:20:26.776487+00, system, system).',
  hint: null,
  message: 'new row for relation "system_prompts_v2" violates check constraint "system_prompts_v2_category_check"'
}
 POST /api/prompts/initialize 200 in 1994ms
 ○ Compiling /api/generate-passage ...
 ✓ Compiled /api/generate-passage in 1020ms (850 modules)
Supabase 프롬프트 조회 실패, 기본값 사용: {
  code: 'PGRST116',
  details: 'The result contains 0 rows',
  hint: null,
  message: 'JSON object requested, multiple (or no) rows returned'
}
Supabase 프롬프트 조회 실패, 기본값 사용: {
  code: 'PGRST116',
  details: 'The result contains 0 rows',
  hint: null,
  message: 'JSON object requested, multiple (or no) rows returned'
}
Supabase 프롬프트 조회 실패, 기본값 사용: {
  code: 'PGRST116',
  details: 'The result contains 0 rows',
  hint: null,
  message: 'JSON object requested, multiple (or no) rows returned'
}
Supabase 프롬프트 조회 실패, 기본값 사용: {
  code: 'PGRST116',
  details: 'The result contains 0 rows',
  hint: null,
  message: 'JSON object requested, multiple (or no) rows returned'
}
Generated prompt: ###지시사항
다음 입력값을 받아 학습 지문(passage)을 생성하십시오. 출력은 하나의 영역으로 구분합니다.
- passage: 입력 조건을 반영해 생성한 지문

모든 지문은 질문형·호기심 유발형 제목을 사용하고, 실생활 예시를 활용해 추상 개념을 설명해야 하며, 임의(random) 로직은 사용하지 않습니다.

###작성절차
1. 키워드 도출
- 구분·과목·학년·영역·지문 길이를 파싱하여 ① 핵심 개념(기초→심화), ② 생활 연계 예시, ③ 학년별 어휘 수준을 도출합니다.
2. 지문(passages) 생성
- 도출한 가이드를 조합해 제목 1개와 본문을 작성합니다.
- 본문은 입력된 지문 길이 가이드라인과 출력 형식 규칙을 정확히 준수합니다.
- **용어 설명 필수 요구사항**: 지문에 등장하는 모든 학습 관련 용어들을 footnote에 포함시켜야 합니다. 최소 20개 이상의 용어를 추출하여 설명하세요.
  * 핵심 개념어와 관련 용어들
  * 지문에 직접 언급된 전문 용어들
  * 학년 수준에 맞는 중요한 어휘들
  * 관련 배경 지식이 필요한 용어들
  * 생활 속에서 사용되는 관련 용어들도 포함
- **용어 설명 형식**: 각 용어에 대해 "용어: 설명 (예시: 예시문장)" 형태로 작성하세요.
  * 설명: 학년 수준에 맞는 간단하고 명확한 설명
  * 예시문장: 해당 용어가 실제로 사용되는 자연스러운 문장
3. 흥미 요소 적용
- 도입부에 실생활 상황·질문을 배치하여 독자의 호기심을 자극합니다.
- 단순 설명문뿐 아니라 비교·예측·원인결과 등 다양한 서술 방식을 활용합니다.
4. 출력 생성
- 아래 [공통 출력 스키마] 형식을 준수한 JSON만 출력하십시오.
- 지정된 키가 없거나 데이터를 찾을 수 없으면 **"-"**로 표기합니다.
- **footnote는 반드시 20개 이상의 용어 설명을 포함해야 하며, 각 용어는 설명과 예시문장을 모두 포함해야 합니다.**

###구분
초등학교 중학년(3-4학년): 학습자는 짧은 문장 구조와 익숙한 단어를 중심으로 이해할 수 있습니다. 설명은 구체적인 사례와 생활 속 경험에 기반해야 하며, 새로운 개념어에는 간단한 풀이가 필요합니다. 추상적인 개념은 '왜 그럴까?', '무엇이 다를까?'와 같은 질문으로 흥미를 유도하고, 그림을 그리듯 서술해 주세요.

###지문 길이
4-5문장으로 구성한 5-6개 단락: 각 단락은 4-5문장으로 구성하여 하나의 소주제를 완성도 있게 설명합니다. 총 5-6개 단락으로 전체 내용을 균형 있게 전개하세요. 초등 중학년 수준에 맞는 친근하고 이해하기 쉬운 구성을 유지하세요.

###과목
과학

###학년
초3

###영역
물리: 힘과 운동, 속력, 마찰, 에너지 전환, 빛과 소리, 전기와 자기 등 자연 현상의 기본 원리를 설명합니다. 초등은 놀이와 생활 도구를 예시로 사용하여 개념을 쉽게 설명합니다. 중학생은 정량적 또는 개념적 분석 중심으로 설명할 수 있습니다. 지문은 탐구 동기를 유도하는 질문으로 시작하세요.

###대주제
빛과 반사
위 대주제를 중심으로 물리 영역의 학습 내용과 연결하여 지문을 구성하세요.

###소주제
거울 속 모습
이 소주제를 구체적으로 다루며, 대주제와의 연관성을 명확히 하여 지문을 작성하세요.

###핵심 개념어
반사/거울/입사각/반사각/상
이 핵심 개념어들을 지문에 자연스럽게 포함시키고, 학년 수준에 맞게 설명하세요. footnote에는 이 용어들을 포함하여 최소 20개 이상의 관련 용어 해설을 추가하세요.

###출력형식(JSON)
{
  "passages": [
    {
      "title": "<질문형·흥미유발형 제목>",
      "paragraphs": [
        "<4-5문장으로 구성한 단락1>",
        "<4-5문장으로 구성한 단락2>",
        "<4-5문장으로 구성한 단락3>",
        "<4-5문장으로 구성한 단락4>",
        "<4-5문장으로 구성한 단락5>",
        "<4-5문장으로 구성한 단락6(생략가능)>"
      ],
      "footnote": [
        "용어1: 간단하고 명확한 설명 (예시: 용어1을 사용한 자연스러운 예시문장)",
        "용어2: 간단하고 명확한 설명 (예시: 용어2를 사용한 자연스러운 예시문장)",
        "용어3: 간단하고 명확한 설명 (예시: 용어3을 사용한 자연스러운 예시문장)",
        "용어4: 간단하고 명확한 설명 (예시: 용어4를 사용한 자연스러운 예시문장)",
        "용어5: 간단하고 명확한 설명 (예시: 용어5를 사용한 자연스러운 예시문장)",
        "용어6: 간단하고 명확한 설명 (예시: 용어6을 사용한 자연스러운 예시문장)",
        "용어7: 간단하고 명확한 설명 (예시: 용어7을 사용한 자연스러운 예시문장)",
        "용어8: 간단하고 명확한 설명 (예시: 용어8을 사용한 자연스러운 예시문장)",
        "용어9: 간단하고 명확한 설명 (예시: 용어9를 사용한 자연스러운 예시문장)",
        "용어10: 간단하고 명확한 설명 (예시: 용어10을 사용한 자연스러운 예시문장)",
        "용어11: 간단하고 명확한 설명 (예시: 용어11을 사용한 자연스러운 예시문장)",
        "용어12: 간단하고 명확한 설명 (예시: 용어12를 사용한 자연스러운 예시문장)",
        "용어13: 간단하고 명확한 설명 (예시: 용어13을 사용한 자연스러운 예시문장)",
        "용어14: 간단하고 명확한 설명 (예시: 용어14를 사용한 자연스러운 예시문장)",
        "용어15: 간단하고 명확한 설명 (예시: 용어15를 사용한 자연스러운 예시문장)",
        "용어16: 간단하고 명확한 설명 (예시: 용어16을 사용한 자연스러운 예시문장)",
        "용어17: 간단하고 명확한 설명 (예시: 용어17을 사용한 자연스러운 예시문장)",
        "용어18: 간단하고 명확한 설명 (예시: 용어18을 사용한 자연스러운 예시문장)",
        "용어19: 간단하고 명확한 설명 (예시: 용어19를 사용한 자연스러운 예시문장)",
        "용어20: 간단하고 명확한 설명 (예시: 용어20을 사용한 자연스러운 예시문장)",
        "추가용어21: 간단하고 명확한 설명 (예시: 추가용어21을 사용한 자연스러운 예시문장)",
        "추가용어22: 간단하고 명확한 설명 (예시: 추가용어22를 사용한 자연스러운 예시문장)",
        "추가용어23: 간단하고 명확한 설명 (예시: 추가용어23을 사용한 자연스러운 예시문장)",
        "추가용어24: 간단하고 명확한 설명 (예시: 추가용어24를 사용한 자연스러운 예시문장)",
        "추가용어25: 간단하고 명확한 설명 (예시: 추가용어25를 사용한 자연스러운 예시문장)"
      ]
    }
  ]
}
GPT response: {
  passages: [
    {
      title: '거울 속 내 모습이 반대로 보이는 이유는 무엇일까?',
      paragraphs: [Array],
      footnote: [Array]
    }
  ]
}
 POST /api/generate-passage 200 in 19867ms
 ○ Compiling /api/test-db ...
 ✓ Compiled /api/test-db in 820ms (747 modules)
 GET /api/test-db 200 in 1701ms
 ✓ Compiled /api/prompts in 455ms (511 modules)
📂 데이터베이스 조회 실패, 하드코딩된 프롬프트를 사용합니다.
📚 로드된 프롬프트 수: 39개
🔍 첫 번째 프롬프트 확인: 전체 시스템 프롬프트
🔧 데이터베이스 사용 여부: false
 GET /api/prompts 200 in 919ms
 GET /prompts 200 in 579ms
 GET / 200 in 583ms
✅ 프롬프트 수정 저장 성공: passage-system-base
 PUT /api/prompts 200 in 199ms
 GET /prompts 200 in 299ms
 ○ Compiling /api/prompts/update ...
 ✓ Compiled /api/prompts/update in 2.2s (747 modules)
 POST /api/prompts/update 200 in 3171ms
 ✓ Compiled /api/prompts in 365ms (511 modules)
🗄️ 데이터베이스에서 1개 프롬프트를 로드했습니다.
📚 로드된 프롬프트 수: 1개
🔍 첫 번째 프롬프트 확인: 전체 시스템 프롬프트
🔧 데이터베이스 사용 여부: true
 GET /api/prompts 200 in 609ms
 ○ Compiling /api/get-curriculum-structure ...
 ✓ Compiled /api/get-curriculum-structure in 783ms (509 modules)
Supabase에서 교육과정 구조 데이터를 가져오는 중...
Supabase에서 351개의 교육과정 데이터를 가져왔습니다.
 GET /api/get-curriculum-structure 200 in 1588ms
Supabase에서 교육과정 구조 데이터를 가져오는 중...
Supabase에서 351개의 교육과정 데이터를 가져왔습니다.
 GET /api/get-curriculum-structure 200 in 149ms
Supabase에서 교육과정 구조 데이터를 가져오는 중...
Supabase에서 351개의 교육과정 데이터를 가져왔습니다.
 GET /api/get-curriculum-structure 200 in 179ms
Supabase에서 교육과정 구조 데이터를 가져오는 중...
Supabase에서 351개의 교육과정 데이터를 가져왔습니다.
 GET /api/get-curriculum-structure 200 in 168ms
 GET / 200 in 349ms
 ✓ Compiled /api/auth/session in 449ms (413 modules)
 GET /api/auth/session 200 in 660ms
 ✓ Compiled /api/get-curriculum-structure in 238ms (511 modules)
Supabase에서 교육과정 구조 데이터를 가져오는 중...
Supabase에서 351개의 교육과정 데이터를 가져왔습니다.
 GET /api/get-curriculum-structure 200 in 1018ms
Supabase에서 교육과정 구조 데이터를 가져오는 중...
Supabase에서 351개의 교육과정 데이터를 가져왔습니다.
 GET /api/get-curriculum-structure 200 in 191ms
 ○ Compiling /api/generate-passage ...
 ✓ Compiled /api/generate-passage in 656ms (614 modules)
Supabase 프롬프트 조회 실패, 기본값 사용: {
  code: 'PGRST116',
  details: 'The result contains 0 rows',
  hint: null,
  message: 'JSON object requested, multiple (or no) rows returned'
}
Supabase 프롬프트 조회 실패, 기본값 사용: {
  code: 'PGRST116',
  details: 'The result contains 0 rows',
  hint: null,
  message: 'JSON object requested, multiple (or no) rows returned'
}
Supabase 프롬프트 조회 실패, 기본값 사용: {
  code: 'PGRST116',
  details: 'The result contains 0 rows',
  hint: null,
  message: 'JSON object requested, multiple (or no) rows returned'
}
 GET / 200 in 1672ms
 GET /prompts 200 in 1678ms
Supabase 프롬프트 조회 실패, 기본값 사용: {
  code: 'PGRST116',
  details: 'The result contains 0 rows',
  hint: null,
  message: 'JSON object requested, multiple (or no) rows returned'
}
Generated prompt: ###지시사항
다음 입력값을 받아 학습 지문(passage)을 생성하십시오. 출력은 하나의 영역으로 구분합니다.
- passage: 입력 조건을 반영해 생성한 지문

모든 지문은 질문형·호기심 유발형 제목을 사용하고, 실생활 예시를 활용해 추상 개념을 설명해야 하며, 임의(random) 로직은 사용하지 않습니다.

###작성절차
1. 키워드 도출
- 구분·과목·학년·영역·지문 길이를 파싱하여 ① 핵심 개념(기초→심화), ② 생활 연계 예시, ③ 학년별 어휘 수준을 도출합니다.
2. 지문(passages) 생성
- 도출한 가이드를 조합해 제목 1개와 본문을 작성합니다.
- 본문은 입력된 지문 길이 가이드라인과 출력 형식 규칙을 정확히 준수합니다.
- **용어 설명 필수 요구사항**: 지문에 등장하는 모든 학습 관련 용어들을 footnote에 포함시켜야 합니다. 최소 20개 이상의 용어를 추출하여 설명하세요.
  * 핵심 개념어와 관련 용어들
  * 지문에 직접 언급된 전문 용어들
  * 학년 수준에 맞는 중요한 어휘들
  * 관련 배경 지식이 필요한 용어들
  * 생활 속에서 사용되는 관련 용어들도 포함
- **용어 설명 형식**: 각 용어에 대해 "용어: 설명 (예시: 예시문장)" 형태로 작성하세요.
  * 설명: 학년 수준에 맞는 간단하고 명확한 설명
  * 예시문장: 해당 용어가 실제로 사용되는 자연스러운 문장
3. 흥미 요소 적용
- 도입부에 실생활 상황·질문을 배치하여 독자의 호기심을 자극합니다.
- 단순 설명문뿐 아니라 비교·예측·원인결과 등 다양한 서술 방식을 활용합니다.
4. 출력 생성
- 아래 [공통 출력 스키마] 형식을 준수한 JSON만 출력하십시오.
- 지정된 키가 없거나 데이터를 찾을 수 없으면 **"-"**로 표기합니다.
- **footnote는 반드시 20개 이상의 용어 설명을 포함해야 하며, 각 용어는 설명과 예시문장을 모두 포함해야 합니다.**

###구분
초등학교 중학년(3-4학년): 학습자는 짧은 문장 구조와 익숙한 단어를 중심으로 이해할 수 있습니다. 설명은 구체적인 사례와 생활 속 경험에 기반해야 하며, 새로운 개념어에는 간단한 풀이가 필요합니다. 추상적인 개념은 '왜 그럴까?', '무엇이 다를까?'와 같은 질문으로 흥미를 유도하고, 그림을 그리듯 서술해 주세요.

###지문 길이
4-5문장으로 구성한 5-6개 단락: 각 단락은 4-5문장으로 구성하여 하나의 소주제를 완성도 있게 설명합니다. 총 5-6개 단락으로 전체 내용을 균형 있게 전개하세요. 초등 중학년 수준에 맞는 친근하고 이해하기 쉬운 구성을 유지하세요.

###과목
과학

###학년
초3

###영역
화학: 물질의 상태(고체, 액체, 기체), 용해와 혼합, 변화(물리·화학), 연소, 산과 염기 등 물질의 성질과 변화를 다룹니다. 초등은 관찰 가능한 생활 속 현상 중심으로 개념을 도입해야 하며, 실험적 탐색을 서술로 표현해 주세요. 중학생은 심화된 개념을 간단한 실생활 반응과 연계하여 설명할 수 있습니다. 지문은 질문형으로 시작하세요.

###대주제
혼합물
위 대주제를 중심으로 화학 영역의 학습 내용과 연결하여 지문을 구성하세요.

###소주제
혼합물의 분리
이 소주제를 구체적으로 다루며, 대주제와의 연관성을 명확히 하여 지문을 작성하세요.

###핵심 개념어
체/거름/증발/분리/혼합
이 핵심 개념어들을 지문에 자연스럽게 포함시키고, 학년 수준에 맞게 설명하세요. footnote에는 이 용어들을 포함하여 최소 20개 이상의 관련 용어 해설을 추가하세요.

###출력형식(JSON)
{
  "passages": [
    {
      "title": "<질문형·흥미유발형 제목>",
      "paragraphs": [
        "<4-5문장으로 구성한 단락1>",
        "<4-5문장으로 구성한 단락2>",
        "<4-5문장으로 구성한 단락3>",
        "<4-5문장으로 구성한 단락4>",
        "<4-5문장으로 구성한 단락5>",
        "<4-5문장으로 구성한 단락6(생략가능)>"
      ],
      "footnote": [
        "용어1: 간단하고 명확한 설명 (예시: 용어1을 사용한 자연스러운 예시문장)",
        "용어2: 간단하고 명확한 설명 (예시: 용어2를 사용한 자연스러운 예시문장)",
        "용어3: 간단하고 명확한 설명 (예시: 용어3을 사용한 자연스러운 예시문장)",
        "용어4: 간단하고 명확한 설명 (예시: 용어4를 사용한 자연스러운 예시문장)",
        "용어5: 간단하고 명확한 설명 (예시: 용어5를 사용한 자연스러운 예시문장)",
        "용어6: 간단하고 명확한 설명 (예시: 용어6을 사용한 자연스러운 예시문장)",
        "용어7: 간단하고 명확한 설명 (예시: 용어7을 사용한 자연스러운 예시문장)",
        "용어8: 간단하고 명확한 설명 (예시: 용어8을 사용한 자연스러운 예시문장)",
        "용어9: 간단하고 명확한 설명 (예시: 용어9를 사용한 자연스러운 예시문장)",
        "용어10: 간단하고 명확한 설명 (예시: 용어10을 사용한 자연스러운 예시문장)",
        "용어11: 간단하고 명확한 설명 (예시: 용어11을 사용한 자연스러운 예시문장)",
        "용어12: 간단하고 명확한 설명 (예시: 용어12를 사용한 자연스러운 예시문장)",
        "용어13: 간단하고 명확한 설명 (예시: 용어13을 사용한 자연스러운 예시문장)",
        "용어14: 간단하고 명확한 설명 (예시: 용어14를 사용한 자연스러운 예시문장)",
        "용어15: 간단하고 명확한 설명 (예시: 용어15를 사용한 자연스러운 예시문장)",
        "용어16: 간단하고 명확한 설명 (예시: 용어16을 사용한 자연스러운 예시문장)",
        "용어17: 간단하고 명확한 설명 (예시: 용어17을 사용한 자연스러운 예시문장)",
        "용어18: 간단하고 명확한 설명 (예시: 용어18을 사용한 자연스러운 예시문장)",
        "용어19: 간단하고 명확한 설명 (예시: 용어19를 사용한 자연스러운 예시문장)",
        "용어20: 간단하고 명확한 설명 (예시: 용어20을 사용한 자연스러운 예시문장)",
        "추가용어21: 간단하고 명확한 설명 (예시: 추가용어21을 사용한 자연스러운 예시문장)",
        "추가용어22: 간단하고 명확한 설명 (예시: 추가용어22를 사용한 자연스러운 예시문장)",
        "추가용어23: 간단하고 명확한 설명 (예시: 추가용어23을 사용한 자연스러운 예시문장)",
        "추가용어24: 간단하고 명확한 설명 (예시: 추가용어24를 사용한 자연스러운 예시문장)",
        "추가용어25: 간단하고 명확한 설명 (예시: 추가용어25를 사용한 자연스러운 예시문장)"
      ]
    }
  ]
}
GPT response: {
  passages: [
    {
      title: '우유와 모래, 어떻게 섞이고 다시 나눌 수 있을까?',
      paragraphs: [Array],
      footnote: [Array]
    }
  ]
}
 POST /api/generate-passage 200 in 17883ms
 ○ Compiling /api/generate-vocabulary ...
 ✓ Compiled /api/generate-vocabulary in 770ms (854 modules)
Generating vocabulary questions for terms: [
  '분리: 섞여 있던 것을 나누는 것 (예시: 나는 사과와 오렌지를 분리해서 접시에 담았어요.)',
  '거름: 액체와 고체를 분리하는 방법 (예시: 커피를 만들 때 커피 가루를 거름종이로 걸러요.)'
]
Supabase 프롬프트 조회 실패, 기본값 사용: {
  code: 'PGRST116',
  details: 'The result contains 0 rows',
  hint: null,
  message: 'JSON object requested, multiple (or no) rows returned'
}
Supabase 프롬프트 조회 실패, 기본값 사용: {
  code: 'PGRST116',
  details: 'The result contains 0 rows',
  hint: null,
  message: 'JSON object requested, multiple (or no) rows returned'
}
Generating question for term: 분리
Supabase 프롬프트 조회 실패, 기본값 사용: {
  code: 'PGRST116',
  details: 'The result contains 0 rows',
  hint: null,
  message: 'JSON object requested, multiple (or no) rows returned'
}
Supabase 프롬프트 조회 실패, 기본값 사용: {
  code: 'PGRST116',
  details: 'The result contains 0 rows',
  hint: null,
  message: 'JSON object requested, multiple (or no) rows returned'
}
Generating question for term: 거름
Generated 2 vocabulary questions
 POST /api/generate-vocabulary 200 in 6797ms
 GET / 200 in 368ms
 GET /api/auth/session 200 in 120ms
Supabase에서 교육과정 구조 데이터를 가져오는 중...
Supabase에서 351개의 교육과정 데이터를 가져왔습니다.
 GET /api/get-curriculum-structure 200 in 240ms
Supabase에서 교육과정 구조 데이터를 가져오는 중...
Supabase에서 351개의 교육과정 데이터를 가져왔습니다.
 GET /api/get-curriculum-structure 200 in 192ms
 ○ Compiling /_not-found ...
 ✓ Compiled /_not-found in 1038ms (857 modules)
 GET / 404 in 1434ms
 GET /_next/static/css/app/layout.css?v=1753677715698 404 in 167ms
 GET /_next/static/chunks/main-app.js?v=1753677715698 404 in 336ms
 GET /_next/static/chunks/app-pages-internals.js 404 in 354ms
 GET /_next/static/chunks/app/layout.js 404 in 361ms
 ⨯ [Error: ENOENT: no such file or directory, open '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/server/app/page.js'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/server/app/page.js',
  page: '/'
}
 ○ Compiling /_error ...
 ✓ Compiled /_error in 1575ms (1185 modules)
 ⨯ [Error: ENOENT: no such file or directory, open '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/server/app/prompts/page.js'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/server/app/prompts/page.js',
  page: '/prompts'
}
 GET / 500 in 4843ms
 GET /prompts 500 in 4009ms
 ⨯ [Error: ENOENT: no such file or directory, open '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/server/app/prompts/page.js'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/server/app/prompts/page.js',
  page: '/prompts'
}
 GET /prompts 500 in 631ms
 ⨯ [Error: ENOENT: no such file or directory, open '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/server/app/prompts/page.js'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/server/app/prompts/page.js',
  page: '/prompts'
}
 GET /prompts 500 in 450ms
 ⨯ [Error: ENOENT: no such file or directory, open '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/server/app/page.js'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/server/app/page.js',
  page: '/'
}
 GET / 500 in 467ms
 ○ Compiling /manage ...
 ✓ Compiled /manage in 1830ms (967 modules)
 ⚠ Fast Refresh had to perform a full reload due to a runtime error.
 ⚠ Fast Refresh had to perform a full reload due to a runtime error.
 GET /manage 200 in 2825ms
 ⨯ [Error: ENOENT: no such file or directory, open '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/server/app/page.js'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/server/app/page.js',
  page: '/'
}
 ⨯ [Error: ENOENT: no such file or directory, open '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/server/app/prompts/page.js'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/server/app/prompts/page.js',
  page: '/prompts'
}
 ○ Compiling /_not-found ...
 ✓ Compiled /_not-found in 1406ms (972 modules)
 GET /_next/static/css/app/layout.css?v=1753677798970 404 in 1932ms
 GET /_next/static/chunks/main-app.js?v=1753677798970 404 in 1935ms
 GET /_next/static/chunks/app-pages-internals.js 404 in 1889ms
 GET /_next/static/chunks/app/layout.js 404 in 1904ms
 GET / 500 in 2946ms
 GET /prompts 500 in 2224ms
 ⚠ Fast Refresh had to perform a full reload due to a runtime error.
 ⨯ [Error: ENOENT: no such file or directory, open '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/server/app-paths-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/server/app-paths-manifest.json'
}
 GET / 500 in 3229ms
 ⨯ [Error: ENOENT: no such file or directory, open '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/server/next-font-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/server/next-font-manifest.json',
  page: '/'
}
 ⨯ [Error: ENOENT: no such file or directory, open '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/server/next-font-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/server/next-font-manifest.json'
}
 GET / 500 in 213ms
 ⨯ [Error: ENOENT: no such file or directory, open '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/server/next-font-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/server/next-font-manifest.json'
}
 ⨯ [Error: ENOENT: no such file or directory, open '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/server/next-font-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/server/next-font-manifest.json'
}
 ⨯ [Error: ENOENT: no such file or directory, open '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/server/next-font-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/server/next-font-manifest.json'
}
 ⨯ [Error: ENOENT: no such file or directory, open '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/server/next-font-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/server/next-font-manifest.json'
}
 ⨯ [Error: ENOENT: no such file or directory, open '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/server/next-font-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/server/next-font-manifest.json'
}
 GET /_next/static/chunks/fallback/webpack.js 500 in 287ms
 GET /_next/static/chunks/fallback/react-refresh.js 500 in 269ms
 GET /_next/static/chunks/fallback/main.js 500 in 259ms
 GET /_next/static/chunks/fallback/pages/_app.js 500 in 252ms
 GET /_next/static/chunks/fallback/pages/_error.js 500 in 245ms
 ⨯ Error: Cannot find module './4985.js'
Require stack:
- /mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/server/webpack-runtime.js
- /mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/server/pages/_document.js
- /mnt/d/test/vocabulary_learning2/vocabulary-learning-app/node_modules/next/dist/server/require.js
- /mnt/d/test/vocabulary_learning2/vocabulary-learning-app/node_modules/next/dist/server/load-components.js
- /mnt/d/test/vocabulary_learning2/vocabulary-learning-app/node_modules/next/dist/build/utils.js
- /mnt/d/test/vocabulary_learning2/vocabulary-learning-app/node_modules/next/dist/build/swc/options.js
- /mnt/d/test/vocabulary_learning2/vocabulary-learning-app/node_modules/next/dist/build/swc/index.js
- /mnt/d/test/vocabulary_learning2/vocabulary-learning-app/node_modules/next/dist/build/next-config-ts/transpile-config.js
- /mnt/d/test/vocabulary_learning2/vocabulary-learning-app/node_modules/next/dist/server/config.js
- /mnt/d/test/vocabulary_learning2/vocabulary-learning-app/node_modules/next/dist/server/next.js
- /mnt/d/test/vocabulary_learning2/vocabulary-learning-app/node_modules/next/dist/server/lib/start-server.js
    at <unknown> (.next/server/app/page.js:24:8702)
    at Object.<anonymous> (.next/server/app/page.js:24:8764) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [Array],
  page: '/'
}
 ⨯ [Error: ENOENT: no such file or directory, open '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/routes-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/routes-manifest.json'
}
 GET / 500 in 574ms
 ⨯ [Error: ENOENT: no such file or directory, open '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/routes-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/routes-manifest.json'
}
 ⨯ [Error: ENOENT: no such file or directory, open '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/routes-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/routes-manifest.json'
}
 ⨯ [Error: ENOENT: no such file or directory, open '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/routes-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/routes-manifest.json'
}
 ⨯ [Error: ENOENT: no such file or directory, open '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/routes-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/routes-manifest.json'
}
 ⨯ [Error: ENOENT: no such file or directory, open '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/routes-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/mnt/d/test/vocabulary_learning2/vocabulary-learning-app/.next/routes-manifest.json'
}
 GET /_next/static/chunks/fallback/webpack.js 500 in 2280ms
 GET /_next/static/chunks/fallback/main.js 500 in 2247ms
 GET /_next/static/chunks/fallback/react-refresh.js 500 in 2240ms
 GET /_next/static/chunks/fallback/pages/_error.js 500 in 2253ms
 GET /_next/static/chunks/fallback/pages/_app.js 500 in 2247ms
 ✓ Compiled in 2.1s (402 modules)
 ○ Compiling /api/prompts ...
 ✓ Compiled /api/prompts in 1449ms (690 modules)
🗄️ 데이터베이스에서 1개 프롬프트를 로드했습니다.
📚 로드된 프롬프트 수: 1개
🔍 첫 번째 프롬프트 확인: 과학
🔧 데이터베이스 사용 여부: true
 GET /api/prompts 200 in 2453ms
 ○ Compiling /api/test-db ...
 ✓ Compiled /api/test-db in 787ms (692 modules)
 ○ Compiling /_not-found ...
 ✓ Compiled /_not-found in 2.1s (1099 modules)
 ⨯ TypeError: Cannot read properties of undefined (reading 'call')
    at __webpack_exec__ (.next/server/app/_not-found/page.js:275:39)
    at <unknown> (.next/server/app/_not-found/page.js:276:104)
    at <unknown> (.next/server/app/_not-found/page.js:276:47)
    at Object.<anonymous> (.next/server/app/_not-found/page.js:279:3)
 GET /api/test-db 500 in 3507ms
 POST /api/initialize-prompts-v3 404 in 822ms
 ⚠ Found a change in next.config.ts. Restarting the server to apply the changes...
   ▲ Next.js 15.4.1
   - Local:        http://localhost:3000
   - Network:      http://172.27.165.220:3000
   - Environments: .env.local

 ✓ Starting...
 ✓ Ready in 15.5s
